{
  "hash": "b84be6ed466a571e106eea4a96b1c83c",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Descarga de datos del UICN\"\ndescription: \"Descarga de datos de UICN\"\nauthor: \"Daniela O\"\ncategories: [SIG, R]\ndate: 2024-09-30\ntoc-expand: true\n---\n\n\nDescarga de datos del UICN\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# liberias requeridas\nlibrary(taxize) # acceder a datos de UICN\nlibrary(tidyverse)\nlibrary(readxl)\nlibrary(rredlist)\nlibrary(writexl)\nlibrary(httr)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndata<- read_excel(\"especies.xlsx\")\nhead(data)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 7\n  División Clase    Orden    Familia       Género Scientific.name `Nombre común`\n  <chr>    <chr>    <chr>    <chr>         <chr>  <chr>           <chr>         \n1 Chordata Amphibia Anura    Strabomantid… Geoba… Sciurus granat… Rana sierra d…\n2 Chordata Reptilia Squamata Teiidae       Ameiva Cerdocyon thous Lagarto Lobito\n3 Chordata Amphibia Anura    Strabomantid… Serra… Potos flavus    Rana ladrona …\n4 Chordata Reptilia Squamata Anolidae      Anolis Procyon cancri… Abaniquilllo …\n5 Chordata Reptilia Squamata Colubridae    Lepto… Coendou longic… Falsa Mapaná  \n6 Chordata Amphibia Anura    Leptodactyli… Lepto… Eira barbara    Rana Picuda   \n```\n\n\n:::\n\n```{.r .cell-code}\nglimpse(data)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 10\nColumns: 7\n$ División        <chr> \"Chordata\", \"Chordata\", \"Chordata\", \"Chordata\", \"Chord…\n$ Clase           <chr> \"Amphibia\", \"Reptilia\", \"Amphibia\", \"Reptilia\", \"Repti…\n$ Orden           <chr> \"Anura\", \"Squamata\", \"Anura\", \"Squamata\", \"Squamata\", …\n$ Familia         <chr> \"Strabomantidae\", \"Teiidae\", \"Strabomantidae\", \"Anolid…\n$ Género          <chr> \"Geobatrachus\", \"Ameiva\", \"Serranobatrachus\", \"Anolis\"…\n$ Scientific.name <chr> \"Sciurus granatensis\", \"Cerdocyon thous\", \"Potos flavu…\n$ `Nombre común`  <chr> \"Rana sierra de Walker\", \"Lagarto Lobito\", \"Rana ladro…\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nsp.list<- data |> distinct(Scientific.name)\nsp.list\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 10 × 1\n   Scientific.name      \n   <chr>                \n 1 Sciurus granatensis  \n 2 Cerdocyon thous      \n 3 Potos flavus         \n 4 Procyon cancrivorus  \n 5 Coendou longicaudatus\n 6 Eira barbara         \n 7 Neogale frenata      \n 8 Dasyprocta punctata  \n 9 Alouatta seniculus   \n10 Iguana iguana        \n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# obteniendo datos UICN\n\nAPI <- \"MuXfvwppcPU8NwRvszhKskays14Ld4q66cCD\" #https://apiv3.iucnredlist.org/, provide IUCN acess\n\nIUCN.list <- iucn_summary(sp.list$Scientific.name, distr_detail= TRUE, key =API)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n══  1 queries  ═══════════════\n══  1 queries  ═══════════════\n══  1 queries  ═══════════════\n══  1 queries  ═══════════════\n══  1 queries  ═══════════════\n══  1 queries  ═══════════════\n══  1 queries  ═══════════════\n══  1 queries  ═══════════════\n══  1 queries  ═══════════════\n══  1 queries  ═══════════════\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# reacomodo de los datos \niucn_status(IUCN.list)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  Sciurus granatensis       Cerdocyon thous          Potos flavus \n                   NA                    NA                    NA \n  Procyon cancrivorus Coendou longicaudatus          Eira barbara \n                   NA                    NA                    NA \n      Neogale frenata   Dasyprocta punctata    Alouatta seniculus \n                   NA                    NA                    NA \n        Iguana iguana \n                   NA \n```\n\n\n:::\n\n```{.r .cell-code}\n# data a base de datos\nresultado_iucn<-iucn_status(IUCN.list) |> as.data.frame()\n\nresultado_completo <- data.frame(Especie = sp.list$Scientific.name, Status = resultado_iucn)\n# view(resultado_completo)\n\n# para descargar los datos\n#write_xlsx(resultado_completo, \"resultado.xlsx\")\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}